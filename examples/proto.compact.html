<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- Generic browser family -->
  <title>WAJAF Demos, a WebAbility&reg; Network Project</title>
  <meta http-equiv="PRAGMA" content="NO-CACHE" />
  <meta http-equiv="Expires" content="-1" />

  <meta name="Keywords" content="WAJAF, WebAbility" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="Charset" content="UTF-8" />
  <meta name="Language" content="en" />
  <link rel="stylesheet" href="/skins/css/wajaf.css" type="text/css" />

</head>
<body>

<div class="container">

<a href="../index.html" class="back">&#xAB; Back to the index</a><br />
<br />

<h1>Function.prototype.buildCompact examples</h1>

<script language="javascript" type="text/javascript" src="../system/core.js"></script>

The "compact" method allow the programmer to build a parameterless function to be called for any callback use:<br />
<div class="code">newfunction = function.buildCompact(parameters);
</div>

The parameters are the <b>same</b> parameters as the main function in the same order.<br />
This function is very usefull to make calls to a function by a timer or for events callbacks.<br />
<br />
Let's use a basic function that calculates the difference between 2 values and put it in a desired division:

<div class="code">function test(var1, var2, divresult)
{
  var result = var2-var1;
  // put the result into the result division
  WA.get(divresult).append('The result is: '+result);
}
</div>
<span class="button" onclick="natural();">View the result of this code</span>
<div id="natural" class="result"></div>

The compact function will be called upon request:<br />

<div class="code">var compact1 = test.buildCompact(1,5,'test1');

&lt;!-- the button: --&gt;
&lt;span class="button" onclick="setTimeout(compact1, 1000);"&gt;call the compact1 function with a timer (1s)&lt;/span&gt;

</div>
<span class="button" onclick="setTimeout(compact1, 1000);">call the compact1 function with a timer (1s)</span>
<span class="button" onclick="WA.get('#test1').text('');">Clear the result area</span>
<div id="test1" class="result"></div>

The compact function will be called upon click:<br />

<div class="code">var compact2 = test.buildCompact(5,1,'test2');

&lt;!-- the button: --&gt;
&lt;span class="button" onclick="compact2();"&gt;call the compact2 function on click&lt;/span&gt;

</div>
<span class="button" onclick="compact2();">call the compact2 function on click</span>
<span class="button" onclick="WA.get('#test2').text('');">Clear the result area</span>
<div id="test2" class="result"></div>

<br /><br />

<script type="text/javascript">

// test function, returns the difference between var1 and var2 and put it in the desired division

function test(var1, var2, divresult)
{
  var result = var2-var1;
  // put the result into the result division
  WA.get(divresult).append('The result is: '+result+'\n');
}

// The compact function are fixed argumented functions ready to be called by any callback or so

var compact1 = test.buildCompact(1,5,'#test1');

var compact2 = test.buildCompact(5,1,'#test2');

function natural()
{
  WA.get('#natural').text('Natural function: test(1,2) = ');
  test(1,2,'#natural');
  WA.get('#natural').append('Natural function: test(2,1) = ');
  test(2,1,'#natural');
}

</script>

<a href="../index.html" class="back">&#xAB; Back to the index</a><br />

</div>

</body>
</html>
